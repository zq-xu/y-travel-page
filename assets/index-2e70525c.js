import{_ as j}from"./round-plus-df65e5c8.js";import{aS as o,d as h,c as A,r as x,bm as B,aH as w,aK as k,aL as l,aQ as e,aM as n,aR as C,aO as R,ae as T,aY as P,aZ as D,bb as q,b8 as z,bx as F,by as L,e8 as O}from"./index-7d88c287.js";import{a as S}from"./vehicle-cfe28117.js";import{_ as H}from"./ListTable.vue_vue_type_script_setup_true_lang-f17df0df.js";import{c as g,u as _,a as K}from"./rule-00386333.js";import{_ as Q}from"./Input-ffdad1fe.js";import{_ as Y}from"./FormItemGridItem-6e368cab.js";import{a as Z}from"./Grid-4bf13ce0.js";import{N}from"./Space-9d9d608e.js";import"./crud-ca5eec89.js";import"./refresh-a3259f6e.js";import"./use-loading-37c1118f.js";import"./vuedraggable.umd-64e6f377.js";import"./Checkbox-9ba985cc.js";import"./use-merged-state-25180a9d.js";import"./Popover-5b10a0f7.js";import"./Suffix-e9302ec1.js";import"./get-c991346f.js";import"./format-length-c9d165c6.js";import"./cssr-b4c9f431.js";import"./use-compitable-51841f38.js";import"./next-frame-once-7035a838.js";import"./DataTable-895cc5c9.js";import"./Dropdown-7051e15f.js";import"./Select-303f22e9.js";import"./Tag-f9ad861a.js";import"./Ellipsis-0f9030da.js";import"./create-ref-setter-f485918b.js";import"./PerformantEllipsis-328d4c5a.js";import"./Pagination-a07528c5.js";import"./Forward-1c09c58f.js";function E(){return[{key:"name",title:o("yTravel.property.name"),align:"center"},{key:"phone",title:o("yTravel.property.phone"),align:"center"},{key:"address",title:o("yTravel.property.address"),align:"center",ellipsis:{tooltip:!0}},{key:"comment",title:o("yTravel.property.comment"),align:"center",ellipsis:{tooltip:!0}}]}const G=h({__name:"AddVehicleCompanyModal",props:{visible:{type:Boolean}},emits:["update:visible","succeed"],setup(u,{emit:c}){const v=u,d=A({get(){return v.visible},set(r){c("update:visible",r)}}),y=()=>{d.value=!1},f=x(),a=B({}),b={name:g(o("yTravel.property.namePlaceholder")),phone:g(o("yTravel.property.phonePlaceholder")),address:_,invoiceInfo:_,id:_,createdAt:_,updatedAt:_,comment:_};async function i(){var t,p;await((t=f.value)==null?void 0:t.validate());const{error:r}=await S.create(a);r||((p=window.$message)==null||p.success(o("yTravel.common.addSuccess")),y(),c("succeed"))}return(r,t)=>{const p=Q,m=Y,U=Z,$=K,I=T,M=N,V=P;return w(),k(V,{show:d.value,"onUpdate:show":t[5]||(t[5]=s=>d.value=s),preset:"card",title:n(o)("yTravel.common.add")+" "+n(o)("yTravel.resource.vehicleCompany.tittle"),class:"w-700px"},{default:l(()=>[e($,{ref_key:"formRef",ref:f,class:"w-80% m-auto","label-placement":"left","label-width":150,model:a,rules:b},{default:l(()=>[e(U,{cols:12,"x-gap":18},{default:l(()=>[e(m,{span:12,label:n(o)("yTravel.property.name"),path:"name"},{default:l(()=>[e(p,{value:a.name,"onUpdate:value":t[0]||(t[0]=s=>a.name=s),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(m,{span:12,label:n(o)("yTravel.property.phone"),path:"phone"},{default:l(()=>[e(p,{value:a.phone,"onUpdate:value":t[1]||(t[1]=s=>a.phone=s),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(m,{span:12,label:n(o)("yTravel.property.address"),path:"address"},{default:l(()=>[e(p,{value:a.address,"onUpdate:value":t[2]||(t[2]=s=>a.address=s),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(m,{span:12,label:n(o)("yTravel.property.invoiceInfo"),path:"invoiceInfo"},{default:l(()=>[e(p,{value:a.invoiceInfo,"onUpdate:value":t[3]||(t[3]=s=>a.invoiceInfo=s),type:"textarea",clearable:""},null,8,["value"])]),_:1},8,["label"]),e(m,{span:36,label:n(o)("yTravel.property.comment"),path:"comment"},{default:l(()=>[e(p,{value:a.comment,"onUpdate:value":t[4]||(t[4]=s=>a.comment=s)},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"]),e(M,{class:"w-full pt-16px",size:24,justify:"end"},{default:l(()=>[e(I,{class:"w-72px",type:"primary",onClick:i},{default:l(()=>[C(R(n(o)("yTravel.common.confirm")),1)]),_:1})]),_:1})]),_:1},8,["show","title"])}}});function J(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!O(u)}const Ue=h({__name:"index",setup(u){const{bool:c,setTrue:v}=D(),d=x(),y=()=>{var i;return(i=d.value)==null?void 0:i.loadTableData()};function f(){return[{key:"actions",title:o("yTravel.property.operation"),align:"center",render:i=>{let r;return e(N,{justify:"center"},{default:()=>[e(T,{size:"small",onClick:()=>b(i.id)},J(r=o("yTravel.common.showDetail"))?r:{default:()=>[r]})]})}}]}const{routerPush:a}=q();function b(i){a({name:F("y-travel_resource_vehicle-company-detail"),query:{id:i}})}return(i,r)=>{const t=j,p=L;return w(),k(p,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[e(H,{ref_key:"listTable",ref:d,"columns-fn":n(E),"action-columns-fn":f,"load-data":n(S).list},{default:l(()=>[e(n(T),{size:"small",type:"primary",onClick:n(v)},{default:l(()=>[e(t,{class:"mr-4px text-20px"}),C(" "+R(n(o)("yTravel.common.add")),1)]),_:1},8,["onClick"])]),_:1},8,["columns-fn","load-data"]),e(G,{visible:n(c),"onUpdate:visible":r[0]||(r[0]=m=>z(c)?c.value=m:null),onSucceed:y},null,8,["visible"])]),_:1})}}});export{Ue as default};
