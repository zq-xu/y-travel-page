import{_ as N}from"./round-plus-df65e5c8.js";import{aS as o,d as h,c as V,r as w,bm as j,aH as x,aK as k,aL as l,aQ as e,aM as n,aR as C,aO as R,ae as T,aY as B,aZ as D,b8 as P,by as z,e8 as F}from"./index-7d88c287.js";import{a as L}from"./hotel-ccaf918d.js";import{_ as O}from"./ListTable.vue_vue_type_script_setup_true_lang-f17df0df.js";import{c as g,u as _,a as q}from"./rule-00386333.js";import{a as H}from"./vehicle-cfe28117.js";import{_ as K}from"./Input-ffdad1fe.js";import{_ as Q}from"./FormItemGridItem-6e368cab.js";import{a as Y}from"./Grid-4bf13ce0.js";import{N as S}from"./Space-9d9d608e.js";import"./crud-ca5eec89.js";import"./refresh-a3259f6e.js";import"./use-loading-37c1118f.js";import"./vuedraggable.umd-64e6f377.js";import"./Checkbox-9ba985cc.js";import"./use-merged-state-25180a9d.js";import"./Popover-5b10a0f7.js";import"./Suffix-e9302ec1.js";import"./get-c991346f.js";import"./format-length-c9d165c6.js";import"./cssr-b4c9f431.js";import"./use-compitable-51841f38.js";import"./next-frame-once-7035a838.js";import"./DataTable-895cc5c9.js";import"./Dropdown-7051e15f.js";import"./Select-303f22e9.js";import"./Tag-f9ad861a.js";import"./Ellipsis-0f9030da.js";import"./create-ref-setter-f485918b.js";import"./PerformantEllipsis-328d4c5a.js";import"./Pagination-a07528c5.js";import"./Forward-1c09c58f.js";function Z(){return[{key:"name",title:o("yTravel.property.name"),align:"center"},{key:"phone",title:o("yTravel.property.phone"),align:"center"},{key:"address",title:o("yTravel.property.address"),align:"center",ellipsis:{tooltip:!0}},{key:"comment",title:o("yTravel.property.comment"),align:"center",ellipsis:{tooltip:!0}}]}const E=h({__name:"AddVehicleCompanyModal",props:{visible:{type:Boolean}},emits:["update:visible","succeed"],setup(m,{emit:u}){const y=m,c=V({get(){return y.visible},set(d){u("update:visible",d)}}),b=()=>{c.value=!1},v=w(),a=j({}),p={name:g(o("yTravel.property.namePlaceholder")),phone:g(o("yTravel.property.phonePlaceholder")),address:_,invoiceInfo:_,id:_,createdAt:_,updatedAt:_,comment:_};async function i(){var t,s;await((t=v.value)==null?void 0:t.validate());const{error:d}=await H.create(a);d||((s=window.$message)==null||s.success(o("yTravel.common.addSuccess")),b(),u("succeed"))}return(d,t)=>{const s=K,f=Q,$=Y,I=q,U=T,A=S,M=B;return x(),k(M,{show:c.value,"onUpdate:show":t[5]||(t[5]=r=>c.value=r),preset:"card",title:n(o)("yTravel.common.add")+" "+n(o)("yTravel.resource.vehicle.tittle"),class:"w-700px"},{default:l(()=>[e(I,{ref_key:"formRef",ref:v,class:"w-80% m-auto","label-placement":"left","label-width":150,model:a,rules:p},{default:l(()=>[e($,{cols:12,"x-gap":18},{default:l(()=>[e(f,{span:12,label:n(o)("yTravel.property.name"),path:"name"},{default:l(()=>[e(s,{value:a.name,"onUpdate:value":t[0]||(t[0]=r=>a.name=r),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(f,{span:12,label:n(o)("yTravel.property.phone"),path:"phone"},{default:l(()=>[e(s,{value:a.phone,"onUpdate:value":t[1]||(t[1]=r=>a.phone=r),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(f,{span:12,label:n(o)("yTravel.property.address"),path:"address"},{default:l(()=>[e(s,{value:a.address,"onUpdate:value":t[2]||(t[2]=r=>a.address=r),clearable:""},null,8,["value"])]),_:1},8,["label"]),e(f,{span:12,label:n(o)("yTravel.property.invoiceInfo"),path:"invoiceInfo"},{default:l(()=>[e(s,{value:a.invoiceInfo,"onUpdate:value":t[3]||(t[3]=r=>a.invoiceInfo=r),type:"textarea",clearable:""},null,8,["value"])]),_:1},8,["label"]),e(f,{span:36,label:n(o)("yTravel.property.comment"),path:"comment"},{default:l(()=>[e(s,{value:a.comment,"onUpdate:value":t[4]||(t[4]=r=>a.comment=r)},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model"]),e(A,{class:"w-full pt-16px",size:24,justify:"end"},{default:l(()=>[e(U,{class:"w-72px",type:"primary",onClick:i},{default:l(()=>[C(R(n(o)("yTravel.common.confirm")),1)]),_:1})]),_:1})]),_:1},8,["show","title"])}}});function G(m){return typeof m=="function"||Object.prototype.toString.call(m)==="[object Object]"&&!F(m)}const Ie=h({__name:"index",setup(m){const{bool:u,setTrue:y}=D(),c=w(),b=()=>{var p;return(p=c.value)==null?void 0:p.loadTableData()};function v(){return[{key:"actions",title:o("yTravel.property.operation"),align:"center",render:p=>{let i;return e(S,{justify:"center"},{default:()=>[e(T,{size:"small",onClick:()=>a(p.id)},G(i=o("yTravel.common.showDetail"))?i:{default:()=>[i]})]})}}]}function a(p){console.log(`id${p}`)}return(p,i)=>{const d=N,t=z;return x(),k(t,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[e(O,{ref_key:"listTable",ref:c,"columns-fn":n(Z),"action-columns-fn":v,"load-data":n(L).list},{default:l(()=>[e(n(T),{size:"small",type:"primary",onClick:n(y)},{default:l(()=>[e(d,{class:"mr-4px text-20px"}),C(" "+R(n(o)("yTravel.common.add")),1)]),_:1},8,["onClick"])]),_:1},8,["columns-fn","load-data"]),e(E,{visible:n(u),"onUpdate:visible":i[0]||(i[0]=s=>P(u)?u.value=s:null),onSucceed:b},null,8,["visible"])]),_:1})}}});export{Ie as default};
