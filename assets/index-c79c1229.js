import{_ as R}from"./round-plus-df65e5c8.js";import{d as A,r as p,c as V,z as W,aH as l,aI as d,ab as F,ak as I,aJ as h,aQ as e,aL as t,aP as U,av as H,aT as X,T as Y,aK as L,aM as r,aR as c,aO as u,aU as N,by as j,ae as E,w as ee,dh as M}from"./index-7d88c287.js";import{i as te}from"./inquiry-9caaa758.js";import{u as ae}from"./use-loading-37c1118f.js";import{_ as ne}from"./Pagination-a07528c5.js";import{N as q}from"./Space-9d9d608e.js";import{_ as oe}from"./Spin-c251ab73.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";import{s as Z,d as le,N as ie}from"./time-8155d1fb.js";import{_ as ce,a as _e}from"./Grid-4bf13ce0.js";import{N as ue}from"./Tag-f9ad861a.js";import"./crud-ca5eec89.js";import"./Suffix-e9302ec1.js";import"./use-merged-state-25180a9d.js";import"./Input-ffdad1fe.js";import"./Select-303f22e9.js";import"./use-compitable-51841f38.js";import"./cssr-b4c9f431.js";import"./Popover-5b10a0f7.js";import"./get-c991346f.js";import"./format-length-c9d165c6.js";import"./next-frame-once-7035a838.js";import"./Forward-1c09c58f.js";import"./create-ref-setter-f485918b.js";const re=A({__name:"LongCardList",props:{data:{default:void 0},initLoad:{type:Boolean,default:!0},disableHeader:{type:Boolean,default:!1},disableFooter:{type:Boolean,default:!1},enablePagination:{type:Boolean,default:!1},loadData:{type:Function,default:void 0}},emits:["update:data"],setup(_,{expose:i,emit:o}){const n=_,$=p(!n.disableHeader),g=p(!n.disableFooter),v=p(1),s=p(1),m=p(10),C=p([]),y=V({get(){return n.data??C.value},set(a){n.data?o("update:data",a):C.value=a}}),T=V(()=>n.enablePagination),{loading:k,startLoading:B,endLoading:x}=ae(!1);async function w(){n.enablePagination?await S():await P()}async function P(){var f;B(),n.loadData||x();const{data:a}=await n.loadData("",{pageNum:(s.value??1).toString(),pageSize:(m.value??10).toString()});a&&(a.items.forEach(async(b,D)=>{setTimeout(()=>{y.value.push(b)},D*200)}),v.value=a.pageCount),setTimeout(()=>{x()},(((f=a==null?void 0:a.items)==null?void 0:f.length)??0)*200),s.value+=1}async function S(){B(),n.loadData||x();const{data:a}=await n.loadData("",{pageNum:(s.value??1).toString(),pageSize:(m.value??10).toString()});a&&(y.value=a.items),x()}function G(a){window.scrollTo(0,0),s.value=a,S()}function J(a){m.value=a,s.value=1,S()}return W(()=>{n.initLoad&&w()}),i({loadListData:w}),(a,f)=>{const b=q,D=j,K=E,O=oe,Q=ne;return l(),d(H,null,[F(h("div",null,[e(b,{class:"pb-15px",justify:"space-between"},{default:t(()=>[e(b,{align:"center",size:18},{default:t(()=>[U(a.$slots,"header",{},void 0,!0)]),_:3})]),_:3})],512),[[I,$.value]]),e(Y,{name:"fade"},{default:t(()=>[(l(!0),d(H,null,X(y.value,z=>(l(),d("div",{key:z.id,class:"animate__animated animate__fadeInUp"},[e(D,{class:"rounded-16px mb-15px min-h-10",hoverable:""},{default:t(()=>[U(a.$slots,"listItem",{data:z},void 0,!0)]),_:2},1024)]))),128))]),_:3}),F(h("div",null,[T.value?N("",!0):(l(),L(b,{key:0,class:"absolute inset-x-0 bottom-0 pt-15px",justify:"center"},{default:t(()=>[r(k)?N("",!0):(l(),L(K,{key:0,bordered:!1,onClick:P},{default:t(()=>[c(u("加载更多..."),1)]),_:1})),r(k)?(l(),L(O,{key:1,size:"medium"})):N("",!0)]),_:1})),T.value?(l(),L(b,{key:1,class:"pt-15px",justify:"center"},{default:t(()=>[e(Q,{page:s.value,"onUpdate:page":f[0]||(f[0]=z=>s.value=z),"page-size":m.value,"onUpdate:pageSize":f[1]||(f[1]=z=>m.value=z),"page-count":100,"show-size-picker":"","page-sizes":[10,20,30,40,50],onUpdatePage:G,onUpdatePageSize:J},null,8,["page","page-size"])]),_:1})):N("",!0)],512),[[I,g.value]])],64)}}});const de=se(re,[["__scopeId","data-v-04f1bcbb"]]),pe={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},me=h("path",{fill:"currentColor",d:"m11 8.89l.94 3.11h2.82l-2.27 1.62l.93 3.01L11 14.79l-2.42 1.84l.93-3.01L7.24 12h2.82L11 8.89zM8.58 10H1l6.17 4.41L4.83 22L11 17.31L17.18 22l-2.35-7.59L21 10h-7.58L11 2l-2.42 8zm12.78 12l-1.86-6.01L23.68 13h-3.44l-3.08 2.2l1.46 4.72L21.36 22zM17 8l-1.82-6l-1.04 3.45l.77 2.55H17z"},null,-1),fe=[me];function he(_,i){return l(),d("svg",pe,fe)}const ge={name:"ic-outline-hotel-class",render:he},ve={class:"inline-block",viewBox:"0 0 256 256",width:"1em",height:"1em"},xe=h("path",{fill:"currentColor",d:"m242.63 96.44l-184-64A8 8 0 0 0 48 40v176a8 8 0 0 0 16 0v-42.31l178.63-62.13a8 8 0 0 0 0-15.12ZM64 156.75V51.25L215.65 104Z"},null,-1),be=[xe];function ze(_,i){return l(),d("svg",ve,be)}const ye={name:"ph-flag-pennant",render:ze},we={class:"inline-block",viewBox:"0 0 256 256",width:"1em",height:"1em"},Le=h("path",{fill:"currentColor",d:"M244.8 150.4a8 8 0 0 1-11.2-1.6A51.6 51.6 0 0 0 192 128a8 8 0 0 1-7.37-4.89a8 8 0 0 1 0-6.22A8 8 0 0 1 192 112a24 24 0 1 0-23.24-30a8 8 0 1 1-15.5-4A40 40 0 1 1 219 117.51a67.94 67.94 0 0 1 27.43 21.68a8 8 0 0 1-1.63 11.21ZM190.92 212a8 8 0 1 1-13.84 8a57 57 0 0 0-98.16 0a8 8 0 1 1-13.84-8a72.06 72.06 0 0 1 33.74-29.92a48 48 0 1 1 58.36 0A72.06 72.06 0 0 1 190.92 212ZM128 176a32 32 0 1 0-32-32a32 32 0 0 0 32 32Zm-56-56a8 8 0 0 0-8-8a24 24 0 1 1 23.24-30a8 8 0 1 0 15.5-4A40 40 0 1 0 37 117.51a67.94 67.94 0 0 0-27.4 21.68a8 8 0 1 0 12.8 9.61A51.6 51.6 0 0 1 64 128a8 8 0 0 0 8-8Z"},null,-1),$e=[Le];function Ce(_,i){return l(),d("svg",we,$e)}const Te={name:"ph-users-three",render:Ce},ke={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Be=h("path",{fill:"currentColor",d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5a2 2 0 0 1-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"},null,-1),Ne=[Be];function Se(_,i){return l(),d("svg",ke,Ne)}const De={name:"ic-outline-date-range",render:Se},Me={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},He=h("path",{fill:"currentColor",d:"M12 2c-4.2 0-8 3.22-8 8.2c0 3.18 2.45 6.92 7.34 11.23c.38.33.95.33 1.33 0C17.55 17.12 20 13.38 20 10.2C20 5.22 16.2 2 12 2zm0 10c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2z"},null,-1),Ae=[He];function Pe(_,i){return l(),d("svg",Me,Ae)}const Ve={name:"ic-round-location-on",render:Pe},Fe=A({__name:"ListItemView",props:{data:{}},setup(_){const i=_,o=p(i.data);return ee(()=>i.data,n=>{o.value=n}),(n,$)=>{const g=ie,v=ce,s=ue,m=_e,C=Ve,y=De,T=Te,k=ye,B=ge,x=q;return l(),d(H,null,[e(m,{cols:4,class:"w-full"},{default:t(()=>[e(v,{span:1},{default:t(()=>[e(g,{class:"text-lg font-bold"},{default:t(()=>[c(u(o.value.id),1)]),_:1})]),_:1}),e(v,{span:3},{default:t(()=>[e(s,{type:"warning",size:"medium",class:"font-bold"},{default:t(()=>{var w;return[c(u((w=o.value.client)==null?void 0:w.name),1)]}),_:1})]),_:1})]),_:1}),e(x,{size:"medium",class:"mt-15px w-full"},{default:t(()=>[e(s,{size:"medium",type:"default",class:"mr-30px"},{default:t(()=>[e(C,{class:"mr-4px text-20px"}),c(" "+u(o.value.address),1)]),_:1}),e(s,{size:"medium",type:"default",class:"mr-30px"},{default:t(()=>[e(y,{class:"mr-4px text-20px"}),c(" "+u(`${r(M)(o.value.startTime)?r(Z)(o.value.startTime):""} -- ${r(M)(o.value.endTime)?r(Z)(o.value.endTime):""}`),1)]),_:1}),e(s,{size:"medium",type:"default",class:"mr-30px"},{default:t(()=>[e(T,{class:"mr-4px text-20px"}),c(" "+u(o.value.peopleCount),1)]),_:1}),e(s,{size:"medium",type:"default",class:"mr-30px"},{default:t(()=>[e(k,{class:"mr-4px text-20px"}),c(" "+u(o.value.guideCount),1)]),_:1}),e(s,{size:"medium",type:"default",class:"mr-30px"},{default:t(()=>[e(B,{class:"mr-4px text-20px"}),c(" Hotel ")]),_:1}),e(g,{size:"medium",type:"default",bordered:!1,class:"absolute right-5"},{default:t(()=>[c(u(r(M)(o.value.createdAt)?r(le)(o.value.createdAt):""),1)]),_:1})]),_:1})],64)}}}),_t=A({__name:"index",setup(_){return p(),(i,o)=>{const n=R,$=E,g=j;return l(),L(g,{bordered:!1,class:"rounded-16px shadow-sm"},{default:t(()=>[e(de,{ref:"listTable","load-data":r(te).list},{header:t(()=>[e($,{size:"medium",type:"primary"},{default:t(()=>[e(n,{class:"mr-4px text-20px"}),c(" "+u(i.$t("yTravel.common.add")),1)]),_:1})]),listItem:t(({data:v})=>[e(Fe,{data:v},null,8,["data"])]),_:1},8,["load-data"])]),_:1})}}});export{_t as default};
